

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Known issues &mdash; samplicity 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SCR Class" href="scr.html" />
    <link rel="prev" title="Asset Mapping" href="assetmapping.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            samplicity
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#further-reading">Further Reading</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#class-documentation">Class Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#indices-and-tables">Indices and Tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#data-inputs">Data Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#running-the-tool">Running the Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#data-extraction">Data Extraction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structure.html#main-classes">Main classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="structure.html#scr">SCR</a></li>
<li class="toctree-l3"><a class="reference internal" href="structure.html#data">Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="structure.html#risk-module-classes">Risk module classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="structure.html#premres">PremRes</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#natcat">NatCat</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#factorcat">FactorCat</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#manmade">ManMade</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#nonprop">NonProp</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#market">Market</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#reinsurance">Reinsurance</a></li>
<li class="toctree-l4"><a class="reference internal" href="structure.html#oprisk">OpRisk</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="structure.html#how-the-classes-work-together">How the classes work together</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure.html#usage-example">Usage example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="assetmapping.html">Asset Mapping</a><ul>
<li class="toctree-l2"><a class="reference internal" href="assetmapping.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="assetmapping.html#asset-shocks">Asset Shocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="assetmapping.html#lgd-adjustments-lgd-adj">LGD Adjustments (lgd_adj)</a></li>
<li class="toctree-l2"><a class="reference internal" href="assetmapping.html#bond-type-bond-type">Bond Type (bond_type)</a></li>
<li class="toctree-l2"><a class="reference internal" href="assetmapping.html#lgd-classification">LGD Classification</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Known Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#premium-and-reserve-risk">Premium and Reserve Risk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#factor-based-catastrophe-risk">Factor based catastrophe risk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#non-proportional-reinsurance">Non-Proportional Reinsurance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#credit-risk">Credit Risk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loss-given-default">Loss given default</a></li>
<li class="toctree-l2"><a class="reference internal" href="#concentration-risk">Concentration risk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-design">Python design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#object-orientated-approach">Object orientated approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="#splitting-of-classes">Splitting of classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Class Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scr.html">SCR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scr.html#scr">scr</a></li>
<li class="toctree-l2"><a class="reference internal" href="scr.html#support-modules">Support Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scr.html#module-samplicity.scr.aggregation">aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="scr.html#module-samplicity.scr.diversification">diversification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="scr.html#samplicity.scr.diversification.shapely_calc"><code class="docutils literal notranslate"><span class="pre">shapely_calc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scr.html#module-samplicity.scr.info">info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="scr.html#samplicity.scr.info.info"><code class="docutils literal notranslate"><span class="pre">info()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scr.html#module-samplicity.scr.lacdt">lacdt</a><ul>
<li class="toctree-l4"><a class="reference internal" href="scr.html#samplicity.scr.lacdt.f_lacdt_calculation"><code class="docutils literal notranslate"><span class="pre">f_lacdt_calculation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scr.html#solver">solver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#data">data</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#supporting-modules">Supporting Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data.html#access">access</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#data-models">data_models</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#data-validation">data_validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#module-samplicity.data.excel">excel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.excel.f_excel_export"><code class="docutils literal notranslate"><span class="pre">f_excel_export()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.excel.f_excel_import_data"><code class="docutils literal notranslate"><span class="pre">f_excel_import_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.excel.f_excel_import_pa_data"><code class="docutils literal notranslate"><span class="pre">f_excel_import_pa_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.excel.f_excel_import_range"><code class="docutils literal notranslate"><span class="pre">f_excel_import_range()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data.html#module-samplicity.data.odbc">odbc</a><ul>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.odbc.chunker"><code class="docutils literal notranslate"><span class="pre">chunker()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.odbc.f_odbc_export"><code class="docutils literal notranslate"><span class="pre">f_odbc_export()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.odbc.f_odbc_import"><code class="docutils literal notranslate"><span class="pre">f_odbc_import()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.odbc.f_odbc_table_import"><code class="docutils literal notranslate"><span class="pre">f_odbc_table_import()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#samplicity.data.odbc.insert_with_progress"><code class="docutils literal notranslate"><span class="pre">insert_with_progress()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data.html#validation">validation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="premres.html">PremRes</a></li>
<li class="toctree-l1"><a class="reference internal" href="natcat.html">NatCat</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorcat.html">FactorCat</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonprop.html">NonProp</a></li>
<li class="toctree-l1"><a class="reference internal" href="manmade.html">ManMade</a></li>
<li class="toctree-l1"><a class="reference internal" href="reinsurance.html">Reinsurance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reinsurance.html#reinsurance">reinsurance</a></li>
<li class="toctree-l2"><a class="reference internal" href="reinsurance.html#supporting-modules">Supporting Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reinsurance.html#ri-man-made">ri_man_made</a></li>
<li class="toctree-l3"><a class="reference internal" href="reinsurance.html#ri-prog">ri_prog</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="market.html">Market</a><ul>
<li class="toctree-l2"><a class="reference internal" href="market.html#market">market</a></li>
<li class="toctree-l2"><a class="reference internal" href="market.html#supporting-modules">Supporting Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="market.html#aggregate">aggregate</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#bond">bond</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#conc">conc</a></li>
<li class="toctree-l3"><a class="reference internal" href="market.html#credit">credit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bondval.html">BOND VAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="oprisk.html">OpRisk</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Helper Code</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="helper.html">Helper Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.allocation_matrix"><code class="docutils literal notranslate"><span class="pre">allocation_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.combins_df_col"><code class="docutils literal notranslate"><span class="pre">combins_df_col()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_accumulate_figures_vectorized"><code class="docutils literal notranslate"><span class="pre">f_accumulate_figures_vectorized()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_best_join"><code class="docutils literal notranslate"><span class="pre">f_best_join()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_best_match_new"><code class="docutils literal notranslate"><span class="pre">f_best_match_new()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_fast_join"><code class="docutils literal notranslate"><span class="pre">f_fast_join()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_fast_match_element"><code class="docutils literal notranslate"><span class="pre">f_fast_match_element()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_get_total_row"><code class="docutils literal notranslate"><span class="pre">f_get_total_row()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_new_match_element"><code class="docutils literal notranslate"><span class="pre">f_new_match_element()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.f_new_match_idx"><code class="docutils literal notranslate"><span class="pre">f_new_match_idx()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="helper.html#samplicity.helper.log_decorator"><code class="docutils literal notranslate"><span class="pre">log_decorator()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="main.html">Main Module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">samplicity</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Known issues</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/knownissues.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="known-issues">
<h1>Known issues<a class="headerlink" href="#known-issues" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>This document details the various known issues, concerns, development areas and areas of (potential) contention within the <em>samplicity</em> tool.</p>
</section>
<section id="premium-and-reserve-risk">
<h2>Premium and Reserve Risk<a class="headerlink" href="#premium-and-reserve-risk" title="Link to this heading"></a></h2>
<p>The FSI is not very clear on how the (sub-) lines of business should be split.
There are a couple areas of uncertainty:
* Should direct, proportional, faculatative proportional, etc be allocated to the same entires in the matrix or split out.
* Should lines 18b &amp; 18e be grouped together.
* Should lines 18c &amp; 18f be grouped together.
* How does one treat non-proportional and other risk mitigation where the underlying business is known.</p>
<p>The tool has used the methodology where:
* 18b &amp; 18e are grouped together
* 18e &amp; 18f are grouped together.</p>
<p>Other practitioners do perform the calculation differently.</p>
</section>
<section id="factor-based-catastrophe-risk">
<h2>Factor based catastrophe risk<a class="headerlink" href="#factor-based-catastrophe-risk" title="Link to this heading"></a></h2>
<p>The FSI seems to be contradictary on the treatment of the Major Marine, Aviation and Transit (MAT) disaster event.
The FSI notes that this event is applicable to classes classes 5i, 6i and 7i.
However, unlike for all the other disaster evetns it does not include the text “Corresponding proportional reinsurance (sub-)lines of business to those above (18a and 18d).”
This appears to be an oversight. The tool applies the shcoks to the Facultative and Proportional business.</p>
<p>This may not be consistent with other approaches used in the market.</p>
</section>
<section id="non-proportional-reinsurance">
<h2>Non-Proportional Reinsurance<a class="headerlink" href="#non-proportional-reinsurance" title="Link to this heading"></a></h2>
<p>The calcualtion seems to be giving some strange results.
We also need to deal with how the calcualtion deals with ‘__none__’ in the data.</p>
</section>
<section id="credit-risk">
<h2>Credit Risk<a class="headerlink" href="#credit-risk" title="Link to this heading"></a></h2>
<p>The calculation of credit risk is meant to be an an ‘indepedant’ counterparty level.</p>
</section>
<section id="loss-given-default">
<h2>Loss given default<a class="headerlink" href="#loss-given-default" title="Link to this heading"></a></h2>
<p>The tool makes allowances for instances where the loss given default (LGD) is not populated.
In these instances the LGD is set equal to 45%.
It could be argued that the LDG should be set to a maximum to result in a more conservative calculation.</p>
</section>
<section id="concentration-risk">
<h2>Concentration risk<a class="headerlink" href="#concentration-risk" title="Link to this heading"></a></h2>
<p>The tool doesn’t allow for disallowed assets that may exist within insurer’s that are part of banking groups.
The calculation is fairly complex - and potentially iteraraive in nature.
Their is little guidance on how the calculation should be applied.</p>
</section>
<section id="python-design">
<h2>Python design<a class="headerlink" href="#python-design" title="Link to this heading"></a></h2>
<p>A couple design choices have been made that could be criticised. However, soem trade-offs needed to be made.</p>
<section id="object-orientated-approach">
<h3>Object orientated approach<a class="headerlink" href="#object-orientated-approach" title="Link to this heading"></a></h3>
<p><em>samplciity</em> uses an object orienatted approach (OOP). It was felt that this was appropriate for this type of project.
The use of classes was intentional, the idea was to create a set of ‘classes’ that can be re-used for different calculations - for example an ORSA.</p>
<p>A challenge in prior projects was how the different values were manipulated by different functions and/or routines.
This has been avoided in this project.</p>
</section>
<section id="splitting-of-classes">
<h3>Splitting of classes<a class="headerlink" href="#splitting-of-classes" title="Link to this heading"></a></h3>
<p>A number of classes in this project are split across multiple modules. These include:
- <code class="docutils literal notranslate"><span class="pre">SCR</span></code>
- <code class="docutils literal notranslate"><span class="pre">Data</span></code>
- <code class="docutils literal notranslate"><span class="pre">Reinsurance</span></code></p>
<p>These classes are probalby around 1 000 lines long - they are not exceptionally large.
A more Pythonic method may ahve been to include all the code in a single module.
Alternatively we could have split the classes into multiple classes.
Ultimately it was decided to use a few smaller modules to improve the readbility of the code.
Future editions of <em>samplicity</em> may make changes to this.
It is likely that the <code class="docutils literal notranslate"><span class="pre">Data</span></code> class will be split into multiple classes - Excel, database, data validation</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="assetmapping.html" class="btn btn-neutral float-left" title="Asset Mapping" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scr.html" class="btn btn-neutral float-right" title="SCR Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Clive Hogarth.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>